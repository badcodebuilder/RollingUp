# Detection and Mitigation of DoS Attacks in Software Defined Networks

> Shang Gao etc.
> 
> IEEE/ACM Transaction on Network: CCF-A, JCR Q2, 3.56

本文提出了一种FloodDefender的DoS检测及缓解系统，来应对针对SDN的DoS攻击。该系统部署在控制层上，具体而言部署在控制应用和控制器之间（还没完全明白控制层里面具体的组成，看文中的图更像是把应用层和控制层结合起来了）。

该系统由检测模块和缓解模块两部分组成。

## 检测模块

从论文上看，是在FloodGuard提出的特征上再加上*Flow entry frequency*，具体说就是流中的报文数量。考虑针对SDN的、以消耗流表资源为目标的攻击，会短时间产生大量的流表未命中的报文，为了转发，交换机需要产生大量新的流表项，从而快速消耗流表资源。文中指出如果这样攻击，那么这些攻击报文生成了流中流过的报文会特别少（有点道理哦，我只要让你产生流表项就行了，这个流我没必要用呀），我们称之为**低发包流**。此外，根据这一点，我们也可以发现如果用这个方法来检测慢速攻击也是可以的呀，慢速攻击的时候流上单位时间内的包数量也不大；而如果单位时间流上的包数量过大，就有可能是针对主机的攻击，不管这样的攻击是目标还是手段（如果是目标那么就是攻击主机，如果是手段，就是以网络为目标，嗯我是这么想的，不过那是后话了）。还有一点特征就是这种**低发包流**的增长速率，由于在网络启动初期也是会出现这样的情况（因为需要构建网络拓扑以及其他发现工作，需要给未知的主机发送少量的信息，和针对SDN的DoS攻击模式有点类似），但是其增长速率比较慢，而针对SDN的DoS增长速率非常快，所以这个特征可以也用来区分是否为攻击。

## 缓解模块

### Table-Miss引擎

好家伙，缓解模块里面遇到了流量转移（负载均衡）的措施，和论文[\[1\]](#ref1)提出的方法异曲同工，就是说在这个交换机快要不行的时候，把接下来的流量转移到其他交换机上来处理，这样就是多了一跳来缓解，至于转移到哪个交换机上，论文[\[1\]](#ref1)中给出了一个算法，大致意思就是谁闲得慌就找点事给他肝。

论文中指出了一点我之前想要问的问题，文中描述为*Packet Bouncing Problem*，指的是攻击主机A发送给连接在同一个交换机1下的主机B，由于负载均衡转移到了其他交换机2，但是最终交换机2还会创建一个流表将报文传回交换机1，交换机1根据负载均衡策略又发到交换机2，反复横跳了属于是。所以文中指出，保护规则只应用于非绕路的流量（保护策略会给ToS值进行编码，说白了就是打标记，被打了标记的流量就不再转移了）

### 包过滤组件

### 流表管理

<div class="references">
  <p id="ref1">[1] B. Yuan, D. Zou, S. Yu, H. Jin, W. Qiang and J. Shen, "Defending Against Flow Table Overloading Attack in Software-Defined Networks," in IEEE Transactions on Services Computing, vol. 12, no. 2, pp. 231-246, 1 March-April 2019, doi: 10.1109/TSC.2016.2602861.</p>
</div>
